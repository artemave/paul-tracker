<% if @movements.present? %>
  <div id="map-canvas"></div>
<% else %>
  <div>No tracks for this time window</div>
<% end %>

<%= form_tag @tracker, turboboost: true, method: :get do %>
  <div id="slider"></div>
<% end %>

<% if current_user && current_user.trackers.include?(@tracker) %>
  <% if @tracker.tracking_movement? %>
    <%= button_to "Stop Track Movement", { action: 'stop_track_movement', id: @tracker }, { class: 'button' } %>
  <% else %>
    <%= button_to "Track Movement", { action: 'track_movement', id: @tracker }, { class: 'button' } %>
  <% end %>

  <%= link_to 'Edit', edit_tracker_path(@tracker) %> |
  <%= link_to 'Back', trackers_path %>
<% end %>

<% content_for :javascript do %>
  <script type="text/javascript" charset="utf-8">
    <%= render 'map.js', movements: @movements, map_container_id: 'map-canvas' %>
    <%= render 'slider.js', tracker: @tracker, slider_id: 'slider', slider_params: @slider_params %>
  </script>
<% end %>
